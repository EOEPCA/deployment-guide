# Changelog

## Release 2.0

Release 2.0 is the first formal release of EOEPCA+, since the last EOEPCA release 1.4 - representing a full refresh of the EOEPCA+ building blocks. EOEPCA+ 2.0 provides many new capabilities, with improved stability - ready for production deployment.

The release is additionally accompanied by supporting materials - including, for each Building Block:

* Notebooks - that provide a quick demonstration of core capabilities
* Tutorials - that showcase the building block and its basic installation in a generic reproducible environment

The following table summarises the evolution that EOEPCA+ Release 2.0 represents compared to EOEPCA 1.4.

> Note that all EOEPCA+ 2.0 building blocks are integrated with the authentication and authorization approach of the IAM building block

| Building Block                    | EOEPCA 1.4                                                   | EOEPCA+ 2.0                                                  |                      Migration Strategy                      |
| --------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------: |
| Resource Discovery                | pycsw (all resource types)                                   | **pycsw (resource discovery)**<br />Key enhancements:<br />- Latest OGC API Records, incl. transactions<br />- Latest STAC API, incl. transactions, CEOS best practice<br />**eoAPI (data discovery)**<br />Key capabilities (see Data Access):<br />- Latest STAC API, incl. transactions, CEOS best practice | **pycsw**<br />Upgrade<br /><br />**eoAPI**<br />New installation |
| Data Access                       | EOxServer                                                    | **eoAPI**<br />Key capabilities:<br />- Latest STAC API<br />- TiTiler-PgSTAC raster tiling service (XYZ/OGC-WMTS, OGC API Tiles, COG dynamic tiling, Virtual mosaics)<br />- TiPg vector tiling service (OGC Features and Tiles)<br />- MultiDimensional dataset support via Xarray<br />- Scalable in production<br />**Additional**<br />- STAC Browser for data discovery and visualisation<br />- STAC Manager for metadata management |                       New installation                       |
| Resource Registration             | Registration API (bespoke)                                   | **Registration API**<br />- API via pygeoapi (OGC API Processes) for resource register and deregister<br />- Integrates with *Resource Discovery* and *Data Access*<br />- Resource types for reproducible science<br /><br />**Registration Harvester**<br />- Flowable BPMN Engine - extensible workflows for harvesting<br />Example workflows...<br />- Harvest Landsat data from USGS<br />- Harvest Sentinel data from CDSE<br />Generic workflows...<br />- Harvest from static STAC catalog<br />- Harvest from STAC API |                       New installation                       |
| Workspace                         | Workspace API (bespoke)<br /><br />Workspace Provisioning<br />*Helm templates for workspace definitions* | Key capabilities:<br />- **Workspace API** preserved for workspace management<br />- Alternative declarative approach using Kubernetes custom resources<br />- **Workspace provisioning** via declarative Crossplane pipelines<br />- Object storage provisioning (declarative and via UI), with multiple buckets per workspace<br />- Workspace UI providing users an interactive web interface with: Terminal, Code Editor, Storage Browser<br />- Workspace UI provides user-controlled management of permissions and sharing, with RBAC approach<br />- Automated rollover of bucket credentials<br />- vCluster providing dedicated, isolated Kubernetes cluster for workspace user service provisioning<br />Workspace hibernate and auto-suspend |                       New installation                       |
| Datacube Access                   | n/a                                                          | Key Capabilities:<br />- Filtered discovery and access to multi-dimensional datasets<br />- STAC Best Practice for Datacubes |                       New installation                       |
| Processing<br />OGC API Processes | ZOO-Project with Calrissian - Kubernetes Runner              | **ZOO-Project (common)**<br />Key enhancements:<br />- Improved job log management<br />- OGC types in CWL for inputs/outputs (cwl2ogc)<br />- Zoo pod auto-scaling<br />- New Zoo web UI<br />- Many stability, efficiency and maintainability improvements<br />- Unit tests for OGC-AP Patterns (see below)<br /><br />**Kubernetes Runner (Calrissian)**<br />Key enhancements:<br />- GPU resource requirements in CWL and node selectors<br />- Jobs can use existing namespace<br />- Fully reworked Calrissian integration (new eoap-cwlwrap)<br /><br />**HPC Runner (Toil)**<br />- Zoo integration with Toil for HPC CWL execution<br /><br />**Additional**<br />- [Resources & Guides for Application Packages](https://github.com/eoap)<br />- Documented Application Package patterns, including datacubes<br />- OGC API Processes python client | **Zoo-Calrissian**<br />Upgrade<br /><br />**Zoo-Toil**<br />New Installation |
| Processing<br />openEO            | n/a                                                          | **openeo-geotrellis**<br />Key capabilities:<br />- API providing a simple/unified approach for connection to Earth Observation platforms<br />- Predefined processing specifications for portable applications<br />- Dataset load via STAC - with many enhancements for compatibility and datacube support<br />- Support for running CWL/OGC-App-Package<br />- Many process improvements: geojson, spatial aggregation, bbox filter, ...<br />Improvements for federation<br /><br />**openEO Client / Web Editor**<br />- Support for running CWL/OGC-App-Package |                       New Installation                       |
| Application Hub                   | JupyterHub-based                                             | **JupyterHub-based**<br />Key enhancements:<br />- Support for init containers, and user image pull secrets<br />- Configuration generator tool - to tailor available applications<br />- Dask Gateway support<br />- Optional harbor for image proxy cache<br />- CSI annotations for persistent volume claims |                           Upgrade                            |
| IAM                               | Keycloak with gogatekeeper and Identity API                  | **Keycloak with APISIX, Open Policy Agent and Crossplane**<br />Key enhancements:<br />- Keycloak as for EOEPCA 1.4, with upgraded version<br />- Identity API deprecated in favour of Crossplane CRDs<br />- Crossplane Keycloak Provider for declarative configuration of Keycloak<br />- Open Policy Agent as policy engine<br />- APISIX (ingress) for policy enforcement - with plugins for Authn (OIDC) and Authz (UMA and OPA)<br />- Integration with other EOEPCA+ BBs for policy enforcement and resource sharing |                       New Installation                       |
| Data Gateway                      | n/a                                                          | **EODAG**<br />Capability for accessing the data offering of an extensible set of data providers and datasets<br />Key enhancements:<br />- STAC-formatted metadata representation<br />- Integrate FedEO CEOS STAC for CCI data<br />- Support STAC serialise/deserialise<br />- STAC metadata augmentation via xarray |                             n/a                              |

