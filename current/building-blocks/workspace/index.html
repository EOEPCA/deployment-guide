
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eoepca.readthedocs.io/projects/deploy/en/latest/current/building-blocks/workspace/">
      
      
        <link rel="prev" href="../mlops/">
      
      
        <link rel="next" href="../application-hub/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Workspace - EOEPCA Deployment Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/eoepca.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workspace-deployment-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EOEPCA Deployment Guide" class="md-header__button md-logo" aria-label="EOEPCA Deployment Guide" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EOEPCA Deployment Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workspace
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/EOEPCA/deployment-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  EOEPCA+ Deployment

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../prerequisites/prerequisites-overview/" class="md-tabs__link">
          
  
  EOEPCA+ Prerequisites

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  Building Blocks

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://eoepca.readthedocs.io/" class="md-tabs__link">
        
  
    
  
  Further EOEPCA+ Documentation

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EOEPCA Deployment Guide" class="md-nav__button md-logo" aria-label="EOEPCA Deployment Guide" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    EOEPCA Deployment Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EOEPCA/deployment-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EOEPCA+ Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            EOEPCA+ Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deployments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Deployments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/prerequisites-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EOEPCA+ Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Blocks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EOEPCA+ Prerequisites
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            EOEPCA+ Prerequisites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/prerequisites-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ingress Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Ingress Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/ingress/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/ingress/apisix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APISIX Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/ingress/nginx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nginx Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/ingress/multi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple Ingress Controllers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/tls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLS Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optional Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Optional Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/minio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3 Storage (MinIO)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/container-registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container Registry
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Deployment →
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Building Blocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Building Blocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Identity & Access (IAM)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Identity & Access (IAM)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/main-iam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/client-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/advanced-iam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-discovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Discovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-registration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Registration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datacube-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datacube Access
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Processing & Analysis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Processing & Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Processing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../oapip-engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OGC API Processes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openeo-engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openEO
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mlops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLOps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Environments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            User Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Workspace
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Workspace
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Components Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-run-the-configuration-script" class="md-nav__link">
    <span class="md-ellipsis">
      1. Run the Configuration Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apply-kubernetes-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      2. Apply Kubernetes Secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-deploy-crossplane" class="md-nav__link">
    <span class="md-ellipsis">
      3. Deploy Crossplane
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-initialise-the-core-crossplane-providers" class="md-nav__link">
    <span class="md-ellipsis">
      4. Initialise the Core Crossplane Providers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deploy-the-workspace-api" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deploy the Workspace API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-deploy-the-workspace-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      6. Deploy the Workspace Pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-deploy-the-workspace-admin-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      7. Deploy the Workspace Admin Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-optional-enable-oidc-with-keycloak" class="md-nav__link">
    <span class="md-ellipsis">
      8. Optional: Enable OIDC with Keycloak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#81-create-keycloak-clients" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Create Keycloak Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1 Create Keycloak Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811-workspace-client" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 workspace Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#812-workspace-pipeline-client" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 workspace-pipeline Client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-create-apisix-route-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Create APISIX Route Ingress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Validation and Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation and Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Automated Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-validation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Validation Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual Validation Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-kubernetes-resources" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check Kubernetes Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-access-the-workspace-api-swagger-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Access the Workspace API Swagger Documentation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-testing-a-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Creating and Testing a Workspace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating and Testing a Workspace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-a-new-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create a New Workspace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-storage-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify Storage Buckets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-query-the-workspace-api" class="md-nav__link">
    <span class="md-ellipsis">
      3. Query the Workspace API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-interacting-with-s3-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      4. Interacting with S3 Buckets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-delete-the-test-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      5. Delete the Test Workspace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstallation" class="md-nav__link">
    <span class="md-ellipsis">
      Uninstallation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application-hub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Hub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Platform Monitoring & Quality
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Platform Monitoring & Quality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-health/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Health
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application-quality/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Quality
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://eoepca.readthedocs.io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Further EOEPCA+ Documentation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#components-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Components Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-run-the-configuration-script" class="md-nav__link">
    <span class="md-ellipsis">
      1. Run the Configuration Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apply-kubernetes-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      2. Apply Kubernetes Secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-deploy-crossplane" class="md-nav__link">
    <span class="md-ellipsis">
      3. Deploy Crossplane
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-initialise-the-core-crossplane-providers" class="md-nav__link">
    <span class="md-ellipsis">
      4. Initialise the Core Crossplane Providers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-deploy-the-workspace-api" class="md-nav__link">
    <span class="md-ellipsis">
      5. Deploy the Workspace API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-deploy-the-workspace-pipelines" class="md-nav__link">
    <span class="md-ellipsis">
      6. Deploy the Workspace Pipelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-deploy-the-workspace-admin-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      7. Deploy the Workspace Admin Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-optional-enable-oidc-with-keycloak" class="md-nav__link">
    <span class="md-ellipsis">
      8. Optional: Enable OIDC with Keycloak
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#81-create-keycloak-clients" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Create Keycloak Clients
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.1 Create Keycloak Clients">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#811-workspace-client" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.1 workspace Client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#812-workspace-pipeline-client" class="md-nav__link">
    <span class="md-ellipsis">
      8.1.2 workspace-pipeline Client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-create-apisix-route-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Create APISIX Route Ingress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation-and-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Validation and Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation and Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Automated Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-validation-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Validation Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual Validation Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-check-kubernetes-resources" class="md-nav__link">
    <span class="md-ellipsis">
      1. Check Kubernetes Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-access-the-workspace-api-swagger-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Access the Workspace API Swagger Documentation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-testing-a-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      Creating and Testing a Workspace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating and Testing a Workspace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-a-new-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create a New Workspace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-verify-storage-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      2. Verify Storage Buckets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-query-the-workspace-api" class="md-nav__link">
    <span class="md-ellipsis">
      3. Query the Workspace API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-interacting-with-s3-buckets" class="md-nav__link">
    <span class="md-ellipsis">
      4. Interacting with S3 Buckets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-delete-the-test-workspace" class="md-nav__link">
    <span class="md-ellipsis">
      5. Delete the Test Workspace
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstallation" class="md-nav__link">
    <span class="md-ellipsis">
      Uninstallation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EOEPCA/deployment-guide/edit/main/docs/building-blocks/workspace.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="workspace-deployment-guide">Workspace Deployment Guide<a class="headerlink" href="#workspace-deployment-guide" title="Permanent link">⚓︎</a></h1>
<p>The <strong>Workspace</strong> Building Block provides a comprehensive solution for storing assets and offering services like cataloguing, data access, and visualisation to explore stored assets. Workspaces can cater to individual users or serve as collaborative spaces for groups or projects. This guide provides step-by-step instructions to deploy the Workspace BB in your Kubernetes cluster using Helm.</p>
<hr />
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">⚓︎</a></h2>
<p>The <strong>Workspace</strong> Building Block provides a comprehensive environment where users can store, organise, and process data. It leverages Kubernetes and GitOps principles to create isolated and customisable workspaces for projects or individual users.</p>
<hr />
<h2 id="components-overview">Components Overview<a class="headerlink" href="#components-overview" title="Permanent link">⚓︎</a></h2>
<p>The Workspace BB comprises the following key components:</p>
<ol>
<li>
<p><strong>Workspace Controller</strong>: Manages the provisioning and lifecycle of workspaces using Kubernetes Custom Resource Definitions (CRDs) and controllers.</p>
</li>
<li>
<p><strong>Storage Controller</strong>: Provides an API for self-service management of storage buckets within the workspace.</p>
</li>
<li>
<p><strong>Workspace Services</strong>: An extensible set of services that can be provisioned within the workspace, such as resource discovery, data access, and visualisation tools.</p>
</li>
<li>
<p><strong>Workspace User Interface</strong>: A web-based interface for workspace lifecycle management and resource management.</p>
</li>
</ol>
<hr />
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">⚓︎</a></h2>
<p>Before deploying the Workspace Building Block, ensure you have the following:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Requirement</th>
<th>Documentation Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kubernetes</td>
<td>Cluster (tested on v1.28)</td>
<td><a href="../../prerequisites/kubernetes/">Installation Guide</a></td>
</tr>
<tr>
<td>Helm</td>
<td>Version 3.7 or newer</td>
<td><a href="https://helm.sh/docs/intro/install/">Installation Guide</a></td>
</tr>
<tr>
<td>kubectl</td>
<td>Configured for cluster access</td>
<td><a href="https://kubernetes.io/docs/tasks/tools/">Installation Guide</a></td>
</tr>
<tr>
<td>TLS Certificates</td>
<td>Managed via <code>cert-manager</code> or manually</td>
<td><a href="../../prerequisites/tls/">TLS Certificate Management Guide</a></td>
</tr>
<tr>
<td>APISIX Ingress Controller</td>
<td>Properly installed</td>
<td><a href="../../prerequisites/ingress/overview/#apisix-ingress-controller">Installation Guide</a></td>
</tr>
<tr>
<td>Container Registry</td>
<td>ECR or Harbor (for images)</td>
<td><a href="../../prerequisites/container-registry/">Installation Guide</a></td>
</tr>
</tbody>
</table>
<p><strong>Clone the Deployment Guide Repository:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/EOEPCA/deployment-guide
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nb">cd</span><span class="w"> </span>deployment-guide/scripts/workspace
</span></code></pre></div>
<p><strong>Validate your environment:</strong></p>
<p>Run the validation script to ensure all prerequisites are met:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>bash<span class="w"> </span>check-prerequisites.sh
</span></code></pre></div>
<hr />
<h2 id="deployment-steps">Deployment Steps<a class="headerlink" href="#deployment-steps" title="Permanent link">⚓︎</a></h2>
<h3 id="1-run-the-configuration-script">1. Run the Configuration Script<a class="headerlink" href="#1-run-the-configuration-script" title="Permanent link">⚓︎</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>bash<span class="w"> </span>configure-workspace.sh
</span></code></pre></div>
<p><strong>Configuration Parameters</strong></p>
<p>During the script execution, you will be prompted to provide:</p>
<ul>
<li><strong><code>INGRESS_HOST</code></strong>: Base domain for ingress hosts.<ul>
<li><em>Example</em>: <code>example.com</code></li>
</ul>
</li>
<li><strong><code>CLUSTER_ISSUER</code></strong>: Cert-Manager ClusterIssuer for TLS certificates.<ul>
<li><em>Example</em>: <code>letsencrypt-http01-apisix</code></li>
</ul>
</li>
<li><strong><code>HARBOR_ADMIN_PASSWORD</code></strong>: Password for the Harbor admin user (This should have been automatically configured in the <a href="../../prerequisites/container-registry/">Container Registry</a> guide).</li>
<li><strong>S3 Credentials</strong>: Endpoint, region, access key, and secret key for your S3-compatible storage.</li>
</ul>
<p><strong>OIDC Configuration:</strong></p>
<p>You will be prompted to provide whether you wish to enable OIDC authentication. If you choose to enable OIDC, ensure that you follow the steps in the OIDC Configuration section after deployment.</p>
<p>For instructions on how to set up IAM, you can follow the <a href="../iam/main-iam/">IAM Building Block</a> guide.</p>
<h3 id="2-apply-kubernetes-secrets">2. Apply Kubernetes Secrets<a class="headerlink" href="#2-apply-kubernetes-secrets" title="Permanent link">⚓︎</a></h3>
<p>Run the script to create the necessary Kubernetes secrets.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>bash<span class="w"> </span>apply-secrets.sh
</span></code></pre></div>
<p><strong>Secrets Created in the <code>workspace</code> namespace:</strong></p>
<ul>
<li><code>harbor-admin-password</code></li>
<li><code>minio-secret</code></li>
<li><code>workspace-api</code>  <em>(if OIDC is enabled for the workspace)</em></li>
<li><code>workspace-pipeline</code>  <em>(if OIDC is enabled for the workspace)</em></li>
</ul>
<h3 id="3-deploy-crossplane">3. Deploy Crossplane<a class="headerlink" href="#3-deploy-crossplane" title="Permanent link">⚓︎</a></h3>
<p>Crossplane is used for managing cloud resources within Kubernetes.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>crossplane<span class="w"> </span>https://charts.crossplane.io/stable
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>helm<span class="w"> </span>repo<span class="w"> </span>update<span class="w"> </span>crossplane
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>workspace-crossplane<span class="w"> </span>crossplane/crossplane<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span>--version<span class="w"> </span>v1.18.1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span>--namespace<span class="w"> </span>workspace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span>--create-namespace
</span></code></pre></div>
<h3 id="4-initialise-the-core-crossplane-providers">4. Initialise the Core Crossplane Providers<a class="headerlink" href="#4-initialise-the-core-crossplane-providers" title="Permanent link">⚓︎</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">while</span><span class="w"> </span>!<span class="w"> </span>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://raw.githubusercontent.com/EOEPCA/workspace/refs/tags/v2025.06.05/setup/common/init/providers.yaml<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">while</span><span class="w"> </span>!<span class="w"> </span>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>https://raw.githubusercontent.com/EOEPCA/workspace/refs/tags/v2025.06.05/setup/common/main/providerConfigs.yaml<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</span></code></pre></div>
<blockquote>
<p><em>Due to dependencies, it is necessary to take multiple (<code>while</code>) passes to <code>apply</code> the providers.</em></p>
</blockquote>
<h3 id="5-deploy-the-workspace-api">5. Deploy the Workspace API<a class="headerlink" href="#5-deploy-the-workspace-api" title="Permanent link">⚓︎</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>eoepca-dev<span class="w"> </span>https://eoepca.github.io/helm-charts-dev
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>helm<span class="w"> </span>repo<span class="w"> </span>update<span class="w"> </span>eoepca-dev
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>workspace-api<span class="w"> </span>eoepca-dev/rm-workspace-api<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span>--version<span class="w"> </span><span class="m">2</span>.0.0<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span>--namespace<span class="w"> </span>workspace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">  </span>--values<span class="w"> </span>workspace-api/generated-values.yaml
</span></code></pre></div>
<blockquote>
<p>Ingress is currently only available via APISIX routes, if you have not enabled OIDC, you will need to port-forward to access the API for now. 
If you have enabled OIDC, we will set up the APISIX route/ingress in later steps.</p>
</blockquote>
<h3 id="6-deploy-the-workspace-pipelines">6. Deploy the Workspace Pipelines<a class="headerlink" href="#6-deploy-the-workspace-pipelines" title="Permanent link">⚓︎</a></h3>
<p>The Workspace Pipelines define the template that specifies the services provisioned within newly created Workspaces.</p>
<p>Some example pipelines are provided in the <a href="https://github.com/EOEPCA/workspace">Workspace Git Repository</a> under the path <code>setup/</code>.</p>
<p>These example pipelines are deployed here using <code>kustomize</code> (<code>kubectl -k</code>) with inline patching to apply the values configured via the <code>configure-workspace.sh</code> script.</p>
<p><strong>Apply the Pipelines:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">while</span><span class="w"> </span>!<span class="w"> </span>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>apply<span class="w"> </span>-k<span class="w"> </span>workspace-api<span class="w"> </span><span class="m">2</span>&gt;/dev/null<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</span></code></pre></div>
<blockquote>
<p><em>Due to dependencies, it is necessary to take multiple (<code>while</code>) passes to <code>apply</code> the pipelines.</em></p>
</blockquote>
<h3 id="7-deploy-the-workspace-admin-dashboard">7. Deploy the Workspace Admin Dashboard<a class="headerlink" href="#7-deploy-the-workspace-admin-dashboard" title="Permanent link">⚓︎</a></h3>
<p><strong>Install the Workspace Admin Dashboard:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>kubernetes-dashboard<span class="w"> </span>https://kubernetes.github.io/dashboard/
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>helm<span class="w"> </span>repo<span class="w"> </span>update<span class="w"> </span>kubernetes-dashboard
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>workspace-admin<span class="w"> </span>kubernetes-dashboard/kubernetes-dashboard<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span>--version<span class="w"> </span><span class="m">7</span>.10.1<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span>--namespace<span class="w"> </span>workspace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">  </span>--values<span class="w"> </span>workspace-admin/generated-values.yaml
</span></code></pre></div>
<blockquote>
<p>There is currently no ingress set up for the Workspace Admin Dashboard. To access it, you can use port-forwarding.</p>
</blockquote>
<h3 id="8-optional-enable-oidc-with-keycloak">8. Optional: Enable OIDC with Keycloak<a class="headerlink" href="#8-optional-enable-oidc-with-keycloak" title="Permanent link">⚓︎</a></h3>
<p>If you <strong>do not</strong> wish to use OIDC/IAM right now, you can skip these steps and proceed directly to the <a href="#validation">Validation</a> section.</p>
<p>If you <strong>do</strong> want to protect endpoints with IAM policies (i.e. require Keycloak tokens, limit access by groups/roles, etc.) <strong>and</strong> you enabled <code>OIDC</code> in the configuration script then follow these steps. You will create a new client in Keycloak and optionally define resource-protection rules (e.g. restricting who can list jobs).</p>
<blockquote>
<p>Before starting this please ensure that you have followed our <a href="../iam/main-iam/">IAM Deployment Guide</a> and have a Keycloak instance running.</p>
</blockquote>
<h3 id="81-create-keycloak-clients">8.1 Create Keycloak Clients<a class="headerlink" href="#81-create-keycloak-clients" title="Permanent link">⚓︎</a></h3>
<p>The Workspace requires two Keycloak clients:</p>
<ol>
<li><code>workspace</code> - used for the OIDC/UMA flows that enforce authentication/authorization during request ingress</li>
<li><code>workspace-pipeline</code> - used by the <code>workspace-api</code> to perform administrative actions against the Keycloak API to properly protect newly created workspaces<br><blockquote>
<p>NOTE that this client is configured with additional roles to support this function</p>
</blockquote>
</li>
</ol>
<h4 id="811-workspace-client">8.1.1 <code>workspace</code> Client<a class="headerlink" href="#811-workspace-client" title="Permanent link">⚓︎</a></h4>
<p>Use the <code>create-client.sh</code> script in the <code>/scripts/utils/</code> directory. This script prompts you for basic details and automatically creates a Keycloak client in your chosen realm:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>bash<span class="w"> </span>../utils/create-client.sh
</span></code></pre></div>
<p>When prompted:</p>
<ul>
<li><strong>Keycloak Admin Username and Password</strong>: Enter the credentials of your Keycloak admin user (these are also in <code>~/.eoepca/state</code> if you have them set).</li>
<li><strong>Keycloak base domain</strong>: e.g. <code>auth.example.com</code></li>
<li>
<p><strong>Realm</strong>: Typically <code>eoepca</code>.</p>
</li>
<li>
<p><strong>Confidential Client?</strong>: specify <code>true</code> to create a CONFIDENTIAL client</p>
</li>
<li><strong>Client ID</strong>: You should use <code>workspace</code> or what you set in the configuration script.</li>
<li><strong>Client name</strong> and <strong>description</strong>: Provide any helpful text (e.g., <code>Workspace Client</code>).</li>
<li><strong>Client secret</strong>: Enter the Workspace Client Secret that was generated during the configuration script (check <code>~/.eoepca/state</code>).</li>
<li><strong>Subdomain</strong>: Use <code>workspace-api</code>.</li>
<li><strong>Additional Subdomains</strong>: Leave blank.</li>
<li><strong>Additional Hosts</strong>: Leave blank.</li>
</ul>
<p>After it completes, you should see a JSON snippet confirming the newly created client.</p>
<h4 id="812-workspace-pipeline-client">8.1.2 <code>workspace-pipeline</code> Client<a class="headerlink" href="#812-workspace-pipeline-client" title="Permanent link">⚓︎</a></h4>
<p>Use the <code>create-client.sh</code> script in the <code>/scripts/utils/</code> directory. This script prompts you for basic details and automatically creates a Keycloak client in your chosen realm:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>bash<span class="w"> </span>../utils/create-client.sh
</span></code></pre></div>
<p>When prompted:</p>
<ul>
<li><strong>Keycloak Admin Username and Password</strong>: Enter the credentials of your Keycloak admin user (these are also in <code>~/.eoepca/state</code> if you have them set).</li>
<li><strong>Keycloak base domain</strong>: e.g. <code>auth.example.com</code></li>
<li>
<p><strong>Realm</strong>: Typically <code>eoepca</code>.</p>
</li>
<li>
<p><strong>Confidential Client?</strong>: specify <code>true</code> to create a CONFIDENTIAL client</p>
</li>
<li><strong>Client ID</strong>: You should use <code>workspace-pipeline</code> or what you set in the configuration script.</li>
<li><strong>Client name</strong> and <strong>description</strong>: Provide any helpful text (e.g., <code>Workspace Pipelines</code>).</li>
<li><strong>Client secret</strong>: Enter the Workspace Pipeline Secret that was generated during the configuration script (check <code>~/.eoepca/state</code>).</li>
<li><strong>Subdomain</strong>: Use <code>workspace-api</code>.</li>
<li><strong>Additional Subdomains</strong>: Leave blank.</li>
<li><strong>Additional Hosts</strong>: Leave blank.</li>
</ul>
<p>After it completes, you should see a JSON snippet confirming the newly created client.</p>
<p><strong>Assign Service Account Roles</strong></p>
<p>Login to the Keycloak Admin Console as the <code>admin</code> user.</p>
<p>Under the realm for your deployment, navigate to the settings for the <code>workspace-pipeline</code> client.</p>
<p>Under tab <code>Service account roles</code>, assign the following <code>realm management</code> roles:</p>
<ul>
<li><code>manage-clients</code></li>
<li><code>create-client</code></li>
<li><code>manage-users</code></li>
<li><code>manage-authorization</code></li>
</ul>
<hr />
<h3 id="82-create-apisix-route-ingress">8.2 Create APISIX Route Ingress<a class="headerlink" href="#82-create-apisix-route-ingress" title="Permanent link">⚓︎</a></h3>
<p>Apply the APISIX route ingress:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>workspace-api/generated-ingress.yaml
</span></code></pre></div>
<hr />
<h2 id="validation-and-usage">Validation and Usage<a class="headerlink" href="#validation-and-usage" title="Permanent link">⚓︎</a></h2>
<p>After deploying the Workspace Building Block, you can validate and interact with it through a series of checks and tests described below.</p>
<h3 id="automated-validation">Automated Validation<a class="headerlink" href="#automated-validation" title="Permanent link">⚓︎</a></h3>
<p>To run automated checks:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>bash<span class="w"> </span>validation.sh
</span></code></pre></div>
<p>If all checks pass, your Workspace BB deployment is functioning as expected.</p>
<hr />
<h3 id="manual-validation-steps">Manual Validation Steps<a class="headerlink" href="#manual-validation-steps" title="Permanent link">⚓︎</a></h3>
<h4 id="1-check-kubernetes-resources">1. Check Kubernetes Resources<a class="headerlink" href="#1-check-kubernetes-resources" title="Permanent link">⚓︎</a></h4>
<p>List all resources in the <code>workspace</code> namespace:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>all<span class="w"> </span>-n<span class="w"> </span>workspace
</span></code></pre></div>
<p>Confirm that all pods are <code>Running</code> and no errors are reported.</p>
<h4 id="2-access-the-workspace-api-swagger-documentation">2. Access the Workspace API Swagger Documentation<a class="headerlink" href="#2-access-the-workspace-api-swagger-documentation" title="Permanent link">⚓︎</a></h4>
<p>You can view the Workspace API&rsquo;s Swagger documentation at:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>https://workspace-api.${INGRESS_HOST}/docs
</span></code></pre></div>
<p>Replace <code>${INGRESS_HOST}</code> with your configured ingress host domain.</p>
<blockquote>
<p>NOTE that the ingress integrates with IAM via OIDC, and so expects an authenticated user - for example <code>eoepcauser</code> created earlier.</p>
</blockquote>
<hr />
<h3 id="creating-and-testing-a-workspace">Creating and Testing a Workspace<a class="headerlink" href="#creating-and-testing-a-workspace" title="Permanent link">⚓︎</a></h3>
<h4 id="1-create-a-new-workspace">1. Create a New Workspace<a class="headerlink" href="#1-create-a-new-workspace" title="Permanent link">⚓︎</a></h4>
<p>Apply a sample <code>Workspace</code> resource definition:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>cat<span class="w"> </span><span class="s">&lt;&lt;EOF | kubectl apply -f -</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="s">apiVersion: epca.eo/v1beta1</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="s">kind: Workspace</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="s">metadata:</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="s">  name: ws-eoepcauser</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="s">  namespace: workspace</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="s">spec:</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="s">  subscription: bronze</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="s">  owner: eoepcauser</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="s">  extraBuckets:</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="s">    - ws-eoepcauser-shared</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="s">EOF</span>
</span></code></pre></div>
<p>Check that a new namespace was created:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>kubectl<span class="w"> </span>get<span class="w"> </span>ns<span class="w"> </span>ws-eoepcauser
</span></code></pre></div>
<h4 id="2-verify-storage-buckets">2. Verify Storage Buckets<a class="headerlink" href="#2-verify-storage-buckets" title="Permanent link">⚓︎</a></h4>
<p>Confirm that the workspace&rsquo;s storage buckets - <code>ws-eoepcauser</code> <em>(default)</em> and <code>ws-eoepcauser-shared</code> <em>(additional)</em> - were created:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>kubectl<span class="w"> </span>-n<span class="w"> </span>ws-eoepcauser<span class="w"> </span>get<span class="w"> </span>bucket
</span></code></pre></div>
<h4 id="3-query-the-workspace-api">3. Query the Workspace API<a class="headerlink" href="#3-query-the-workspace-api" title="Permanent link">⚓︎</a></h4>
<p>Port-forward the Workspace API service:<br>
<em>Use of port forward allows to bypass the IAM to simplify the test</em></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>port-forward<span class="w"> </span>svc/workspace-api<span class="w"> </span><span class="m">8080</span>:8080
</span></code></pre></div>
<p>From another terminal window, call the Workspace API to get details for the newly created workspace:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>curl<span class="w"> </span>http://localhost:8080/workspaces/ws-eoepcauser<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span>
</span></code></pre></div>
<p>Record the secret from the response for S3 access:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nv">SECRET</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-s<span class="w"> </span>http://localhost:8080/workspaces/ws-eoepcauser<span class="w"> </span>-H<span class="w"> </span><span class="s1">&#39;accept: application/json&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.storage.credentials.secret&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p>Now the <code>port-forward</code> to the Workspace API service can be stopped - <code>Ctrl-C</code> in original terminal window.</p>
<h4 id="4-interacting-with-s3-buckets">4. Interacting with S3 Buckets<a class="headerlink" href="#4-interacting-with-s3-buckets" title="Permanent link">⚓︎</a></h4>
<p>Use <code>s3cmd</code> (configured via <code>source ~/.eoepca/state</code>) to list and manipulate objects in the workspace&rsquo;s S3 buckets.</p>
<p><strong>List Buckets:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>s3cmd<span class="w"> </span>ls<span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span>--host<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span>--host-bucket<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span>--access_key<span class="w"> </span>ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span>--secret_key<span class="w"> </span><span class="nv">$SECRET</span>
</span></code></pre></div>
<p><strong>Upload a Test File:</strong></p>
<blockquote>
<p>Ensure you are in the directory <code>scripts/workspace</code> for access to the test file <code>validation.sh</code>.</p>
</blockquote>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>s3cmd<span class="w"> </span>put<span class="w"> </span>validation.sh<span class="w"> </span>s3://ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span>--host<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span>--host-bucket<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span>--access_key<span class="w"> </span>ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">  </span>--secret_key<span class="w"> </span><span class="nv">$SECRET</span>
</span></code></pre></div>
<p><strong>Check the Uploaded File:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>s3cmd<span class="w"> </span>ls<span class="w"> </span>s3://ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">  </span>--host<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span>--host-bucket<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span>--access_key<span class="w"> </span>ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span>--secret_key<span class="w"> </span><span class="nv">$SECRET</span>
</span></code></pre></div>
<p><strong>Delete the Test File:</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>s3cmd<span class="w"> </span>del<span class="w"> </span>s3://ws-eoepcauser/validation.sh<span class="w"> </span><span class="se">\</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">  </span>--host<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">  </span>--host-bucket<span class="w"> </span>minio.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">  </span>--access_key<span class="w"> </span>ws-eoepcauser<span class="w"> </span><span class="se">\</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">  </span>--secret_key<span class="w"> </span><span class="nv">$SECRET</span>
</span></code></pre></div>
<h4 id="5-delete-the-test-workspace">5. Delete the Test Workspace<a class="headerlink" href="#5-delete-the-test-workspace" title="Permanent link">⚓︎</a></h4>
<p>To remove the test workspace:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>delete<span class="w"> </span>workspaces<span class="w"> </span>ws-eoepcauser
</span></code></pre></div>
<hr />
<h2 id="uninstallation">Uninstallation<a class="headerlink" href="#uninstallation" title="Permanent link">⚓︎</a></h2>
<p>To uninstall the Workspace Building Block and clean up associated resources:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>workspace-admin<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>kubectl<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span>delete<span class="w"> </span>-f<span class="w"> </span>workspace-api/generated-ingress.yaml<span class="p">;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>workspace-api<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>helm<span class="w"> </span>uninstall<span class="w"> </span>workspace-crossplane<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>-k<span class="w"> </span>workspace-pipelines<span class="w"> </span>-n<span class="w"> </span>workspace<span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>kubectl<span class="w"> </span>delete<span class="w"> </span>namespace<span class="w"> </span>workspace
</span></code></pre></div>
<hr />
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Permanent link">⚓︎</a></h2>
<ul>
<li><a href="https://github.com/EOEPCA/workspace"><abbr title="EO Exploitation Platform Common Architecture">EOEPCA</abbr>+ Workspace GitHub Repository</a></li>
<li><a href="https://crossplane.io/docs/">Crossplane Documentation</a></li>
<li><a href="https://fluxcd.io/docs/">Flux GitOps Documentation</a></li>
<li><a href="https://www.vcluster.com/docs/what-is-vcluster">vCluster Documentation</a></li>
<li><a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/">Kubernetes Dashboard Documentation</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../mlops/" class="md-footer__link md-footer__link--prev" aria-label="Previous: MLOps">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                MLOps
              </div>
            </div>
          </a>
        
        
          
          <a href="../application-hub/" class="md-footer__link md-footer__link--next" aria-label="Next: Application Hub">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Application Hub
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>