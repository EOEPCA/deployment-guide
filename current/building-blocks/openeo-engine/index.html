
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://eoepca.readthedocs.io/projects/deploy/en/latest/current/building-blocks/openeo-engine/">
      
      
        <link rel="prev" href="../oapip-engine/">
      
      
        <link rel="next" href="../mlops/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>openEO - EOEPCA Deployment Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/eoepca.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#processing-openeo-engine-deployment-guide-early-access" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="EOEPCA Deployment Guide" class="md-header__button md-logo" aria-label="EOEPCA Deployment Guide" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EOEPCA Deployment Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              openEO
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/EOEPCA/deployment-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  EOEPCA+ Deployment

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../prerequisites/prerequisites-overview/" class="md-tabs__link">
          
  
  EOEPCA+ Prerequisites

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  Building Blocks

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://eoepca.readthedocs.io/" class="md-tabs__link">
        
  
    
  
  Further EOEPCA+ Documentation

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="EOEPCA Deployment Guide" class="md-nav__button md-logo" aria-label="EOEPCA Deployment Guide" data-md-component="logo">
      
  <img src="../../img/favicon.ico" alt="logo">

    </a>
    EOEPCA Deployment Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/EOEPCA/deployment-guide" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EOEPCA+ Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            EOEPCA+ Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deployments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Deployments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/prerequisites-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EOEPCA+ Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Blocks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EOEPCA+ Prerequisites
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            EOEPCA+ Prerequisites
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/prerequisites-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/ingress-controller/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingress Controller Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/tls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLS Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optional Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Optional Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/minio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3 Storage (MinIO)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequisites/container-registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container Registry
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Deployment →
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Building Blocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Building Blocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Identity & Access (IAM)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Identity & Access (IAM)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/main-iam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/client-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Administration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iam/advanced-iam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-discovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Discovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-registration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Registration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Access
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Processing & Analysis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Processing & Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Processing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../oapip-engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OGC API Processes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    openEO
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    openEO
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-run-the-configuration-script" class="md-nav__link">
    <span class="md-ellipsis">
      1. Run the Configuration Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-deploying-openeo-geotrellis" class="md-nav__link">
    <span class="md-ellipsis">
      2. Deploying openEO Geotrellis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Deploying openEO Geotrellis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-install-spark-operator" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Install Spark Operator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-install-zookeeper" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Install ZooKeeper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-openeo-geotrellis-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Deploy openEO Geotrellis Using Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-create-a-keycloak-client" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Create a Keycloak Client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    <span class="md-ellipsis">
      Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-automated-validation-optional" class="md-nav__link">
    <span class="md-ellipsis">
      1. Automated Validation (Optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-manual-validation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Manual Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Manual Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-api-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Check API Metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-collections" class="md-nav__link">
    <span class="md-ellipsis">
      List Collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-processes" class="md-nav__link">
    <span class="md-ellipsis">
      List Processes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-usage" class="md-nav__link">
    <span class="md-ellipsis">
      3. Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-an-accces-token" class="md-nav__link">
    <span class="md-ellipsis">
      Get an Accces Token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-a-job-using-the-sum-process" class="md-nav__link">
    <span class="md-ellipsis">
      Submit a Job Using the &ldquo;sum&rdquo; Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-with-other-processes" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment with Other Processes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading-official-docs" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading &amp; Official Docs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mlops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLOps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Environments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            User Environments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workspace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application-hub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Hub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Platform Monitoring & Quality
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Platform Monitoring & Quality
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource-health/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Health
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application-quality/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Quality
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://eoepca.readthedocs.io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Further EOEPCA+ Documentation
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-run-the-configuration-script" class="md-nav__link">
    <span class="md-ellipsis">
      1. Run the Configuration Script
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-deploying-openeo-geotrellis" class="md-nav__link">
    <span class="md-ellipsis">
      2. Deploying openEO Geotrellis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Deploying openEO Geotrellis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-install-spark-operator" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Install Spark Operator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-install-zookeeper" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Install ZooKeeper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-deploy-openeo-geotrellis-using-helm" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Deploy openEO Geotrellis Using Helm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-create-a-keycloak-client" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Create a Keycloak Client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    <span class="md-ellipsis">
      Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-automated-validation-optional" class="md-nav__link">
    <span class="md-ellipsis">
      1. Automated Validation (Optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-manual-validation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Manual Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Manual Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-api-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Check API Metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-collections" class="md-nav__link">
    <span class="md-ellipsis">
      List Collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-processes" class="md-nav__link">
    <span class="md-ellipsis">
      List Processes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-usage" class="md-nav__link">
    <span class="md-ellipsis">
      3. Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-an-accces-token" class="md-nav__link">
    <span class="md-ellipsis">
      Get an Accces Token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#submit-a-job-using-the-sum-process" class="md-nav__link">
    <span class="md-ellipsis">
      Submit a Job Using the &ldquo;sum&rdquo; Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-with-other-processes" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment with Other Processes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading-official-docs" class="md-nav__link">
    <span class="md-ellipsis">
      Further Reading &amp; Official Docs
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/EOEPCA/deployment-guide/edit/main/docs/building-blocks/openeo-engine.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


<h1 id="processing-openeo-engine-deployment-guide-early-access">Processing - OpenEO Engine Deployment Guide (Early Access)<a class="headerlink" href="#processing-openeo-engine-deployment-guide-early-access" title="Permanent link">⚓︎</a></h1>
<p>OpenEO develops an API that allows users to connect to Earth observation cloud back-ends in a simple and unified way. The project maintains the API and process specifications, and an open-source ecosystem with clients and server implementations.</p>
<blockquote>
<p><strong>Note:</strong> You must have a valid OIDC Provider to submit jobs to the OpenEO Engine. If you do not have one, refer to the <a href="../iam/main-iam/">IAM Deployment Guide</a> to set up an OIDC Provider.</p>
</blockquote>
<hr />
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">⚓︎</a></h2>
<p>Before deploying, ensure your environment meets the following requirements:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Requirement</th>
<th>Documentation Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kubernetes</td>
<td>Cluster (tested on v1.28)</td>
<td><a href="../../prerequisites/kubernetes/">Installation Guide</a></td>
</tr>
<tr>
<td>Helm</td>
<td>Version 3.5 or newer</td>
<td><a href="https://helm.sh/docs/intro/install/">Installation Guide</a></td>
</tr>
<tr>
<td>kubectl</td>
<td>Configured for cluster access</td>
<td><a href="https://kubernetes.io/docs/tasks/tools/">Installation Guide</a></td>
</tr>
<tr>
<td>Ingress</td>
<td>Properly installed</td>
<td><a href="../../prerequisites/ingress-controller/">Installation Guide</a></td>
</tr>
<tr>
<td>Cert Manager</td>
<td>Properly installed</td>
<td><a href="../../prerequisites/tls/">Installation Guide</a></td>
</tr>
<tr>
<td>OIDC Provider</td>
<td>Required to submit jobs</td>
<td><a href="../iam/main-iam/">Installation Guide</a></td>
</tr>
</tbody>
</table>
<p><strong>Clone the Deployment Guide Repository:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>git clone https://github.com/EOEPCA/deployment-guide
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>cd deployment-guide/scripts/processing/openeo
</span></code></pre></div>
<p><strong>Validate your environment:</strong></p>
<p>Run the validation script to ensure all prerequisites are met:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>bash check-prerequisites.sh
</span></code></pre></div>
<hr />
<h2 id="deployment-steps">Deployment Steps<a class="headerlink" href="#deployment-steps" title="Permanent link">⚓︎</a></h2>
<h3 id="1-run-the-configuration-script">1. Run the Configuration Script<a class="headerlink" href="#1-run-the-configuration-script" title="Permanent link">⚓︎</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>bash<span class="w"> </span>configure-openeo.sh
</span></code></pre></div>
<p>During this process, you will be prompted for:</p>
<ul>
<li><strong><code>INGRESS_HOST</code></strong>: Base domain for ingress hosts (e.g., <code>example.com</code>).</li>
<li><strong><code>STORAGE_CLASS</code></strong>: Kubernetes storage class for persistent volumes.</li>
<li><strong><code>CLUSTER_ISSUER</code></strong>: Cert-manager Cluster Issuer for TLS certificates.</li>
</ul>
<h3 id="2-deploying-openeo-geotrellis">2. Deploying openEO Geotrellis<a class="headerlink" href="#2-deploying-openeo-geotrellis" title="Permanent link">⚓︎</a></h3>
<p>openEO Geotrellis provides the API that connects users to <abbr title="Earth Observation">EO</abbr> cloud back-ends. It leverages Apache Spark and requires both the Spark Operator and ZooKeeper to function.</p>
<h4 id="step-1-install-spark-operator">Step 1: Install Spark Operator<a class="headerlink" href="#step-1-install-spark-operator" title="Permanent link">⚓︎</a></h4>
<p>Deploy the Kubeflow Spark Operator to manage Spark jobs within your Kubernetes cluster:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>openeo-geotrellis-sparkoperator<span class="w"> </span>spark-operator<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span>--repo<span class="w"> </span>https://artifactory.vgt.vito.be/artifactory/helm-charts<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span>--version<span class="w"> </span><span class="m">2</span>.0.2<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span>--namespace<span class="w"> </span>openeo-geotrellis<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span>--create-namespace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span>--values<span class="w"> </span>sparkoperator/generated-values.yaml
</span></code></pre></div>
<p>Refer to the <a href="https://github.com/kubeflow/spark-operator/blob/master/charts/spark-operator-chart/values.yaml">values.yaml</a> for additional configuration options.</p>
<h4 id="step-2-install-zookeeper">Step 2: Install ZooKeeper<a class="headerlink" href="#step-2-install-zookeeper" title="Permanent link">⚓︎</a></h4>
<p>Deploy Apache ZooKeeper, which is required for internal coordination:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>openeo-geotrellis-zookeeper<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span>https://artifactory.vgt.vito.be/artifactory/helm-charts/zookeeper-11.1.6.tgz<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span>--namespace<span class="w"> </span>openeo-geotrellis<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span>--create-namespace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span>--values<span class="w"> </span>zookeeper/generated-values.yaml
</span></code></pre></div>
<p>For full configuration details, see the <a href="https://github.com/bitnami/charts/blob/main/bitnami/zookeeper/values.yaml">values.yaml</a>.</p>
<h4 id="step-3-deploy-openeo-geotrellis-using-helm">Step 3: Deploy openEO Geotrellis Using Helm<a class="headerlink" href="#step-3-deploy-openeo-geotrellis-using-helm" title="Permanent link">⚓︎</a></h4>
<p>Provides an API that simplifies connecting to <abbr title="Earth Observation">EO</abbr> cloud back-ends, running on Apache Spark in a Kubernetes environment.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>helm<span class="w"> </span>upgrade<span class="w"> </span>-i<span class="w"> </span>openeo-geotrellis-openeo<span class="w"> </span>sparkapplication<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span>--repo<span class="w"> </span>https://artifactory.vgt.vito.be/artifactory/helm-charts<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span>--version<span class="w"> </span><span class="m">0</span>.16.3<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span>--namespace<span class="w"> </span>openeo-geotrellis<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span>--create-namespace<span class="w"> </span><span class="se">\</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span>--values<span class="w"> </span>openeo-geotrellis/generated-values.yaml
</span></code></pre></div>
<p>Deploy ingress</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>kubectl apply -f openeo-geotrellis/generated-ingress.yaml
</span></code></pre></div>
<h4 id="step-4-create-a-keycloak-client">Step 4: Create a Keycloak Client<a class="headerlink" href="#step-4-create-a-keycloak-client" title="Permanent link">⚓︎</a></h4>
<p>The openEO API provides an endpoint for service discovery, which allows openEO clients to integrate with each openEO instance. This includes auth discovery that provides details of supported identity providers. For OIDC identity providers details of an OIDC client is provided through this discovery interface. This is assumed to be a public OIDC client for use with OIDC PKCE flows (Authorization/Device Code). This allows the openEO client to dynamically integrate with the authentication approach offered by the openEO instance - with the need to register their own OIDC client.</p>
<p>Thus, we configure in our openEO deployment integration with an <code>EOEPCA</code> identity provider.<br>
Ref. helm values&hellip;</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">oidc_providers</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>  <span class="n">OidcProvider</span><span class="p">(</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;eoepca&quot;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;EOEPCA&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">issuer</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{OIDC_ISSUER_URL}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="n">scopes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;openid&quot;</span><span class="p">,</span> <span class="s2">&quot;profile&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">],</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="n">default_clients</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>      <span class="p">{</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{OPENEO_CLIENT_ID}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>        <span class="s2">&quot;grant_types&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>          <span class="s2">&quot;authorization_code+pkce&quot;</span><span class="p">,</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>          <span class="s2">&quot;urn:ietf:params:oauth:grant-type:device_code+pkce&quot;</span><span class="p">,</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>          <span class="s2">&quot;refresh_token&quot;</span><span class="p">,</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>        <span class="p">],</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>        <span class="s2">&quot;redirect_urls&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;https://openeo.$INGRESS_HOST&quot;</span><span class="p">,</span><span class="s2">&quot;https://editor.openeo.org&quot;</span><span class="p">],</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>      <span class="p">}</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>    <span class="p">],</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>  <span class="p">),</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>  <span class="c1">#...</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="p">]</span>
</span></code></pre></div>
<p>To support this configuration, we need to create the <code>openeo-public</code> client in Keycloak, using the <code>create-client.sh</code> script.<br>
This script prompts you for basic details and automatically creates a Keycloak client in your chosen realm:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>bash<span class="w"> </span>../../utils/create-client.sh
</span></code></pre></div>
<p>When prompted:</p>
<ul>
<li><strong>Keycloak Admin Username and Password</strong>: Enter the credentials of your Keycloak admin user (these are also in <code>~/.eoepca/state</code> if you have them set).</li>
<li><strong>Keycloak base domain</strong>: e.g. <code>auth.example.com</code></li>
<li><strong>Realm</strong>: Typically <code>eoepca</code>.</li>
<li><strong>Confidential Client?</strong>: specify <code>false</code> to create a PUBLIC client</li>
<li><strong>Client ID</strong>: Use <code>openeo-public</code> or what you named the client in the configuration script (check <code>~/.eoepca/state</code>).</li>
<li><strong>Client name</strong> and <strong>description</strong>: Provide any helpful text (e.g., &ldquo;OpenEO Public Client&rdquo;).</li>
<li><strong>Subdomain</strong>: Use <code>openeo</code>.</li>
<li><strong>Additional Subdomains</strong>: Leave blank.</li>
<li><strong>Additional Hosts</strong>: Add <code>editor.openeo.org</code> to allow integration with the openEO Web Editor</li>
</ul>
<p>After it completes, you should see a JSON snippet confirming the newly created client. </p>
<p>Look through the JSON and make a note of the <strong><code>secret</code></strong> value. This is the <strong>Client Secret</strong> and you will need this to obtain an access token. You can always retrieve this value from the Keycloak UI later if needed.</p>
<hr />
<h2 id="validation">Validation<a class="headerlink" href="#validation" title="Permanent link">⚓︎</a></h2>
<p>After deploying the OpenEO Engine components, perform the following checks to verify that the system is working as expected.</p>
<h3 id="1-automated-validation-optional">1. Automated Validation (Optional)<a class="headerlink" href="#1-automated-validation-optional" title="Permanent link">⚓︎</a></h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>bash<span class="w"> </span>validation.sh
</span></code></pre></div>
<p>This script verifies that:</p>
<ul>
<li>All required pods in the <code>openeo-geotrellis</code> (and optionally <code>openeofed</code>) namespace are running.</li>
<li>Ingress endpoints return an HTTP 200 status code.</li>
<li>Key API endpoints provide well-formed JSON responses.</li>
</ul>
<h3 id="2-manual-validation">2. Manual Validation<a class="headerlink" href="#2-manual-validation" title="Permanent link">⚓︎</a></h3>
<p>To easily run these commands, we recommend first setting <code>${INGRESS_HOST}</code> in your environment.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span></code></pre></div>
<p>Use the following commands to interact directly with the APIs:</p>
<h4 id="check-api-metadata">Check API Metadata<a class="headerlink" href="#check-api-metadata" title="Permanent link">⚓︎</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>curl<span class="w"> </span>-L<span class="w"> </span>https://openeo.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span>/openeo/1.2/<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.
</span></code></pre></div>
<p><em>Expected output:</em> A JSON object containing <code>api_version</code>, <code>backend_version</code>, <code>endpoints</code>, etc.</p>
<h4 id="list-collections">List Collections<a class="headerlink" href="#list-collections" title="Permanent link">⚓︎</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>curl<span class="w"> </span>-L<span class="w"> </span>https://openeo.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span>/openeo/1.2/collections<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.
</span></code></pre></div>
<p><em>Expected output:</em> A JSON array listing available collections, such as the sample collection <code>TestCollection-LonLat16x16</code>.</p>
<h4 id="list-processes">List Processes<a class="headerlink" href="#list-processes" title="Permanent link">⚓︎</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>curl<span class="w"> </span>-L<span class="w"> </span>https://openeo.<span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span>/openeo/1.2/processes<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.
</span></code></pre></div>
<p><em>Expected output:</em> A JSON object with an array of processes. Use your terminal’s scroll or <code>jq</code> to inspect the output.</p>
<h3 id="3-usage">3. Usage<a class="headerlink" href="#3-usage" title="Permanent link">⚓︎</a></h3>
<p>Before running any jobs, you must obtain an access token from your OIDC Provider. Use the following command to get an access token if you followed our <a href="../iam/main-iam/">IAM Deployment Guide</a>.</p>
<h4 id="get-an-accces-token">Get an Accces Token<a class="headerlink" href="#get-an-accces-token" title="Permanent link">⚓︎</a></h4>
<p>This assumes use of the previously created <code>KEYCLOAK_TEST_USER</code> (default <code>eoepcauser</code>).<br>
If needed, run the <code>create-user.sh</code> script to create a test user - <code>bash ../../utils/create-user.sh</code>.</p>
<p>Request the access token.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">source</span><span class="w"> </span>~/.eoepca/state
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nv">ACCESS_TOKEN</span><span class="o">=</span><span class="k">$(</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span>curl<span class="w"> </span>--silent<span class="w"> </span>--show-error<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;username=</span><span class="si">${</span><span class="nv">KEYCLOAK_TEST_USER</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span>--data-urlencode<span class="w"> </span><span class="s2">&quot;password=</span><span class="si">${</span><span class="nv">KEYCLOAK_TEST_PASSWORD</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;grant_type=password&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;client_id=</span><span class="si">${</span><span class="nv">OPENEO_CLIENT_ID</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;client_secret=</span><span class="si">${</span><span class="nv">OPENEO_CLIENT_SECRET</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;scope=openid profile email&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="s2">&quot;https://</span><span class="si">${</span><span class="nv">KEYCLOAK_HOST</span><span class="si">}</span><span class="s2">/realms/</span><span class="si">${</span><span class="nv">REALM</span><span class="si">}</span><span class="s2">/protocol/openid-connect/token&quot;</span><span class="w"> </span><span class="p">|</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span>jq<span class="w"> </span>-r<span class="w"> </span><span class="s1">&#39;.access_token&#39;</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="k">)</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Access token: </span><span class="si">${</span><span class="nv">ACCESS_TOKEN</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="nv">AUTH_TOKEN</span><span class="o">=</span><span class="s2">&quot;oidc/eoepca/</span><span class="si">${</span><span class="nv">ACCESS_TOKEN</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<p>If the Access Token is empty, please make sure that the Keycloak client and user are correctly set up.</p>
<p>We need to format the token as <code>oidc/eoepca/${ACCESS_TOKEN}</code> to comply with the <code>oidc_providers</code> variable seen in the Helm values.</p>
<h4 id="submit-a-job-using-the-sum-process">Submit a Job Using the &ldquo;sum&rdquo; Process<a class="headerlink" href="#submit-a-job-using-the-sum-process" title="Permanent link">⚓︎</a></h4>
<p>Submit a job that adds 5 and 6.5 by sending a process graph to the <code>/jobs</code> endpoint:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://openeo.</span><span class="si">${</span><span class="nv">INGRESS_HOST</span><span class="si">}</span><span class="s2">/openeo/1.2/result&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer </span><span class="si">${</span><span class="nv">AUTH_TOKEN</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="s1">        &quot;process&quot;: {</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="s1">          &quot;process_graph&quot;: {</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="s1">            &quot;sum&quot;: {</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="s1">              &quot;process_id&quot;: &quot;sum&quot;,</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="s1">              &quot;arguments&quot;: {</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="s1">                &quot;data&quot;: [5,6.5]</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="s1">              },</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="s1">              &quot;result&quot;: true</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="s1">            }</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="s1">          }</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="s1">        }</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="s1">      }&#39;</span>
</span></code></pre></div>
<p><strong>Expected output:</strong><br />
A simple numeric result:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="mf">11.5</span>
</span></code></pre></div>
<p>This confirms that the &ldquo;sum&rdquo; process is operational and returning the correct computed sum.</p>
<h4 id="experiment-with-other-processes">Experiment with Other Processes<a class="headerlink" href="#experiment-with-other-processes" title="Permanent link">⚓︎</a></h4>
<p>To see more available processes you can run, navigate to</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>https://openeo.${INGRESS_HOST}/openeo/1.2/processes
</span></code></pre></div>
<p>You should see a JSON object with an array of processes. Each with example usage and descriptions. Follow the same process as above to submit a job using any of these processes.</p>
<p>Your Access Token will eventually expire. If you receive a 401 error, you will need to obtain a new token by running the <code>Get an Access Token</code> section again.</p>
<hr />
<h2 id="further-reading-official-docs">Further Reading &amp; Official Docs<a class="headerlink" href="#further-reading-official-docs" title="Permanent link">⚓︎</a></h2>
<ul>
<li><a href="https://open-eo.github.io/openeo-api/">openEO Documentation</a></li>
<li><a href="https://github.com/Open-EO/openeo-geotrellis-kubernetes">openEO Geotrellis GitHub Repository</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../oapip-engine/" class="md-footer__link md-footer__link--prev" aria-label="Previous: OGC API Processes">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                OGC API Processes
              </div>
            </div>
          </a>
        
        
          
          <a href="../mlops/" class="md-footer__link md-footer__link--next" aria-label="Next: MLOps">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                MLOps
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>